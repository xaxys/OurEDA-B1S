# 控制板STM32H750主程序

最新程序为`file_rebuild` ，移植了新版本的ROV驱动库

该仓的STM32负责漏水检测、温湿度大气压传感器、水深传感器、九轴的控制功能

同时可以自主实现PID定向定深

PID定向模式：保证ROV航向不变

PID定深模式：保证ROV所处深度不变

使用FreeRTOS进行任务调度，但仅仅使用了其中的任务调度功能，并未使用信号量、消息队列等功能（主要是因为原作者懒得用），下一迭代可能会考虑充分使用这些功能以增强系统稳定性

主要文件：

* main.c：分配任务和基本控制逻辑
* BasicCtrl.c：基本控制函数库文件，一直沿用到现在的推进器控制代码
* Sensor.c：传感器处理函数库文件

## 初步测试结果

1. 上电后stm32h7无任何反应
2. 温湿度传感器输出正常
3. 九轴传感器输出正常
4. 深度解算板（stm32f1）输出正常
5. MT7621工作正常，但WAN口无法连接外网，所有LAN口正常工作
6. USB无法连接
7. openwrt开机缓慢

准备进行初步Debug

### Dubug结果

